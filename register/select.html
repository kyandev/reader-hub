<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../assest/css/signup.css">
        <link rel="stylesheet" href="../assest/css/bootstrap.min.css">
        <link rel="icon" href="../assest/img/Logos/book-stack.png">
        <title>Select Your Hobby</title>
        
    </head>
    <body>
        <div class="img"
            style="background-image: url('../assest/img//wallpaper.jpg'); ">
            <div
                class="container mt-5  d-flex justify-content-center p-3 align-items-center media-query">
                <div style="  border: 2px #ffc107 solid ;"
                    class="p-2 d-flex justify-content-center flex-column rounded-2 mt-3">
                    <img src="../assest/img/icons/writer.png" alt="writer"
                        style="height: 140px;"><br>
                    <div class="btn btn-warning fw-bold"
                        id="writer">كاتب</div>
                </div>
                <div class="mx-3"></div>
                <div style="border: 2px #ffc107 solid ;"
                    class="mt-3 p-2 d-flex justify-content-center flex-column rounded-2">
                    <img onclick="Reader()" src="../assest/img/icons/book.png"
                        alt="reader"
                        style="height: 135px; "><br>
                    <div class="btn btn-warning fw-bold"
                        id="reader"> قارئ</div>
                </div>
            </div>
        </div>

    </body>
    <script src="../assest/js/userTypes.js"></script>
    <script type="module">

        
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js";
    import { getDatabase, ref, get, set, update, onChildAdded } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-database.js";
    import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-auth.js";

// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyD8goCPxMDey5B9f5hxl2OMZwKnEz9YE1o",
        authDomain: "kyan-b2434.firebaseapp.com",
        databaseURL: "https://kyan-b2434-default-rtdb.firebaseio.com",
        projectId: "kyan-b2434",
        storageBucket: "kyan-b2434.appspot.com",
        messagingSenderId: "975438894207",
        appId: "1:975438894207:web:61a68ab809b524b97f1b4a",
        measurementId: "G-7R55E23LHM"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
    const auth = getAuth();
    // new userType().READER

    function selector(type){
        if(localStorage.getItem("regType")){
            update(ref(database,"/"+localStorage.getItem('userKey')),{
                'type': parseInt(type) 
            }).then(()=>{
                localStorage.removeItem("regType")
                localStorage.removeItem("userKey")
                location.href = "../Home.html"
            })
        }else{
            localStorage.setItem('type',type)
            location.href = "./signup.html"
        }

    }
        


    document.getElementById("writer").onclick = () => {
        selector(new userType().WRITER)
    }

    document.getElementById("reader").onclick = () => {
        selector(new userType().READER)
    }

    </script>
</html>